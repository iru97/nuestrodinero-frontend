<div class="card">
  <div class="card-title" fxLayout="row" fxLayoutAlign="space-between center">
    <span> {{ contract.metadata.date | date: 'EEEE, d MMMM y' }} </span>
    <span class="error-text">
      {{ totalSpent | currency: 'EUR':'symbol':'.2-2' }}
    </span>
    <span
      [ngClass]="{
        'success-text': porcentaje >= 60,
        'error-text': porcentaje < 60
      }"
    >
      {{ porcentaje }} % de información
    </span>
  </div>
  <div class="card-content">
    <app-card-section title="Adjudicador">
      <app-contracting-authority [contractingAuthority]="contract.content.contractAuthority"></app-contracting-authority>
    </app-card-section>
    <app-card-section title="Adjudicatarios">
      <app-sellers-offers
        [sellers]="contract.content.awardees"
        [offerValues]="contract.content.offerValues"
        [offersReceived]="contract.content.offersReceived"
      ></app-sellers-offers>
    </app-card-section>
    <app-card-section title="CPV y descripciones">
      <app-description fxFlex [descriptions]="contract.content.description" [details]="contract.content.details"></app-description>
    </app-card-section>
  </div>
</div>

<!-- <mat-card>
  <mat-card-header>
    <mat-card-title>
      [{{ contract.metadata.date | date: 'shortDate' }}] -
      {{ contract.content.contractAuthority.name }}

      <mat-divider [vertical]="true"></mat-divider>

      <span class="error-text">{{
        totalSpent | currency: 'EUR':'symbol':'.2-2'
      }}</span>
    </mat-card-title>
    <mat-card-subtitle
      testId="porcentaje"
      [ngClass]="{
        'success-text': porcentaje >= 60,
        'error-text': porcentaje < 60
      }"
    >
      {{ porcentaje }} % de información
    </mat-card-subtitle>
  </mat-card-header>

  <mat-card-content fxLayout="column" fxLayoutAlign="start stretch">
    <div
      fxLayout="column"
      fxLayoutAlign="start stretch"
      fxLayout.gt-md="row"
      fxLayoutAlign.gt-md="start stretch"
    >
   
      <app-contracting-authority
        fxFlex.gt-md="50"
        [contractingAuthority]="contract.content.contractAuthority"
      ></app-contracting-authority>


      <app-sellers-offers
        fxFlex.gt-md="50"
        [sellers]="contract.content.awardees"
        [offerValues]="contract.content.offerValues"
        [offersReceived]="contract.content.offersReceived"
      ></app-sellers-offers>
    </div>

    
    <app-description
      fxFlex
      [descriptions]="contract.content.description"
      [details]="contract.content.details"
    ></app-description>
  </mat-card-content>

  <mat-card-actions>
    <button mat-raised-button color="primary" (click)="viewPdf()">
      Ver PDF
    </button>
  </mat-card-actions>
</mat-card> -->
